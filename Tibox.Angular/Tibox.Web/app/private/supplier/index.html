<div ng-controller="supplierController as vm">
    <h1>Supplier</h1>

    <div ng-if="vm.showError"  class="alert alert-danger" role="alert">
        <strong>Error!</strong> Validacion de datos.
    </div>

    <button class="btn btn-success"
            ng-click="vm.create();"
            data-toggle="modal"
            data-target="#modal-container">
        <span class="glyphicon glyphicon-plus"></span> Add
    </button>
    <p></p>
    <alert alert="alertMessage"></alert>
    <div class="table-responsive">
        <table class="table table-striped table-bordered table-hover">
            <thead>
                <tr>
                    <th>Id</th>
                    <th>Company Name</th>
                    <th>Contact Name</th>
                    <!--<th>ContactTitle</th>-->
                    <th>City</th>
                    <th>Country</th>
                    <th>Phone</th>
                    <th>Fax</th>
                    <th></th>
                    <th></th>
                </tr>
            </thead>
            <tbody>
                <tr ng-repeat="supplier in vm.supplierList">
                    <td>{{::supplier.id}}</td>
                    <td>{{::supplier.companyName}}</td>
                    <td>{{::supplier.contactName}}</td>
                    <!--<td>{{::supplier.contactTitle}}</td>-->
                    <td>{{::supplier.city}}</td>
                    <td>{{::supplier.country}}</td>
                    <td>{{::supplier.phone}}</td>
                    <td>{{::supplier.fax}}</td>
                    <td>
                        <button class="btn btn-primary"
                                ng-click="vm.getSupplier(supplier.id); vm.edit();"
                                data-toggle="modal"
                                data-target="#modal-container"
                                id="edt{{supplier.id}}">
                            <span class="glyphicon glyphicon-edit"></span> Edit
                        </button>
                    </td>
                    <td>
                        <button class="btn btn-danger"
                                ng-click="vm.getSupplier(supplier.id); vm.delete();"
                                data-toggle="modal"
                                data-target="#modal-container"
                                id="del{{supplier.id}}">
                        <span class="glyphicon glyphicon-trash"></span> Delete</button>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>

    <modal-panel title="{{vm.modalTitle}}"
                 button-title="{{vm.modalButtonTitle}}"
                 save-function="vm.modalFunction"
                 close-function="vm.closeModal"
                 read-only="vm.readOnly"
                 is-delete="vm.isDelete">
        <supplier-form supplier="vm.supplier"></supplier-form>
    </modal-panel>

</div>